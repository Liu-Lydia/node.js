<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function doSomething() {
        return new Promise((resolve, reject) => {
          const rnd = 500 + Math.random() * 1000;
          setTimeout(function () {
            resolve(rnd);
          }, rnd);
        });
      }
      //Promise物件
      async function a() {
        const r1 = await doSomething(); //await 後面一定是Promise物件
        console.log(r1)
        const r2 = await doSomething();
        console.log(r2)
        console.log(await doSomething())
      }

    //   a(); //Promise物件

    //   console.log('end')

    a().then(r => {
        console.log('end:', r)
    });

    (async () => {
        for(let i=1; i<10; i++){
            console.log(i, await doSomething())
        }
    })()

    </script>
  </body>
</html>
